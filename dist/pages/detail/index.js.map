{"version":3,"file":"pages/detail/index.js","sources":["webpack:///./src/pages/detail/index.tsx","webpack:///./src/pages/detail/index.scss","webpack:///./src/pages/detail/index.tsx?4612"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport \"@tarojs/taro/html.css\";\n// import '~taro-parse/dist/style/main.scss'\nimport {\n  View,\n  Button,\n  Swiper,\n  SwiperItem,\n  Image,\n  ScrollView,\n  Text,\n  RichText\n} from \"@tarojs/components\";\nimport Taro, {\n  useShareAppMessage,\n  useReady,\n  request,\n  useDidShow,\n  usePullDownRefresh,\n  useRouter,\n  useReachBottom\n} from \"@tarojs/taro\";\nimport \"./index.scss\";\nimport classes from \"./index.module.scss\";\n\n// import classes from \"./index.module.scss\";\n// import classnames from \"classnames\";\n\n// const id = useRouter().params.id;\n//\n// const contents = useRouter().params.content;\nfunction Index() {\n  const [title, setTitle] = useState(\"\");\n  const [contentHtml, setContentHtml] = useState('');\n\n  useReady(() => {\n    requestList();\n  });\n\n  const escape2Html = str => {\n    var arrEntities = { lt: \"<\", gt: \">\", nbsp: \" \", amp: \"&\", quot: '\"' };\n    return str\n      .replace(/&(lt|gt|nbsp|amp|quot);/gi, function(all, t) {\n        return arrEntities[t];\n      })\n      .replace(/<section/g, \"<div\")\n      .replace(/<img/gi, '<img style=\"max-width:100%;height:auto\" ')\n      .replace(/<u>/g, \"\")\n      .replace(/<u style=\"\">/g, \"\")\n      .replace(/<\\/u>/g, \"\");\n  };\n\n  const requestList = () => {\n    Taro.showLoading({\n      title: \"加载中\"\n    });\n\n    setTimeout(function() {\n      Taro.hideLoading();\n    }, 5000);\n    Taro.request({\n      url:\n        \"https://xcf.haozii.com/wp-json/wp/v2/posts/\" +\n        Taro.getStorageSync(\"id\"),\n      data: {},\n      success: function(res) {\n        Taro.hideLoading();\n        setTitle(res.data.title.rendered);\n        setContentHtml(res.data.content.rendered);\n      },\n      fail: function() {\n        Taro.hideLoading();\n      }\n    });\n  };\n\n  useShareAppMessage(() => ({}));\n  useDidShow(() => {});\n  return (\n    <View className=\"page\">\n      <View className=\"title\">{title}</View>\n      <View dangerouslySetInnerHTML={{ __html: contentHtml }} className=\"content\"></View>\n    </View>\n  );\n}\nexport default Index;\n","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/mini-runner/node_modules/babel-loader/lib/index.js!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"菜谱详情\",\"enableShareAppMessage\":true};\n\ncomponent.enableShareAppMessage = true\nvar inst = Page(createPageConfig(component, 'pages/detail/index', {}, config || {}))\n\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAUA;AASA;AAIA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AADA;AACA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAFA;AAFA;AACA;AAYA;AACA;AACA;AADA;AAIA;AACA;AADA;AAGA;AACA;AAGA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AAZA;AARA;AACA;AAuBA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;;;;;;;;;;;ACrFA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}