{"version":3,"file":"pages/ele/index.js","sources":["webpack:///./src/pages/ele/index.tsx","webpack:///./src/pages/ele/index.scss","webpack:///./src/pages/ele/index.tsx?7a53","webpack:///./src/utils/utils.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport {\n  View,\n  Button,\n  Swiper,\n  SwiperItem,\n  Image,\n  ScrollView,\n  Text\n} from \"@tarojs/components\";\nimport Taro, { useShareAppMessage, useDidShow } from \"@tarojs/taro\";\nimport \"./index.scss\";\nvar api = require(\"../../utils/utils.js\");\n\n\nfunction Index() {\n  const [movies, setMovies] = useState([]);\n  const [config, setConfig] = useState({});\n  const [meituan, setMeituan] = useState({});\n  const [ele, setEle] = useState({});\n  const [ele_shangchao, setEle_shangchao] = useState({});\n  const [meituan_shangchao, setMeituan_shangchao] = useState({});\n  const [meituan_hotel, setMeituan_hotel] = useState({});\n  useDidShow(() => {\n    requestElmeLink();\n  });\n  const toCoupon = (appid, path) => {\n    console.log('即将跳转:' + appid +'---' +path)\n    Taro.navigateToMiniProgram({\n      appId: appid, //饿了么appid固定\n      path: path\n    });\n  };\n  useShareAppMessage(res => {\n    return {\n      title:\"美团，饿了么外卖，有券有返利，单单帮你省。\",\n      path: \"pages/ele/index\"\n    };\n  });\n  const requestElmeLink = () => {\n    Taro.request({\n      url: api.IndexUrl,\n      data: {\n        wxappid: api.WXAppID\n      },\n      success: function(res) {\n        console.log(res.data.data.movies);\n        setMovies(res.data.data.movies);\n        setConfig(res.data.data.config);\n        setMeituan(res.data.data.meituan);\n        setEle(res.data.data.ele);\n        setEle_shangchao(res.data.data.ele_shangchao);\n        setMeituan_shangchao(res.data.data.meituan_shangchao);\n        setMeituan_hotel(res.data.data.meituan_hotel);\n      }\n    });\n  };\n  return (\n    <View className=\"take_out\">\n      <View className=\"banner\">\n        <View className=\"bg\">\n          <View className=\"up-space\"></View>\n          <View className=\"down_space\"></View>\n        </View>\n        <View className=\"hover\">\n          {config.showEle ? (\n            <Swiper\n              className=\"swiper\"\n              autoplay={true}\n              circular={true}\n              indicatorActiveColor=\"#fff\"\n              indicatorColor=\"#ccc\"\n              indicatorDots={true}\n            >\n              <SwiperItem className=\"swiper_item\">\n                <Image\n                  className=\"img\"\n                  mode=\"widthFix\"\n                  src=\"https://img.mybei.cn/weapp-1.png\"\n                ></Image>\n              </SwiperItem>\n\n              <SwiperItem className=\"swiper_item\">\n                <Image\n                  className=\"img\"\n                  mode=\"widthFix\"\n                  src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-banner2.png\"\n                ></Image>\n              </SwiperItem>\n              <SwiperItem className=\"swiper_item\">\n                <Image\n                  className=\"img\"\n                  mode=\"widthFix\"\n                  src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-banner-3.png\"\n                ></Image>\n              </SwiperItem>\n            </Swiper>\n          ) : (\n            <Swiper\n              className=\"swiper\"\n              autoplay={true}\n              circular={true}\n              indicatorActiveColor=\"#fff\"\n              indicatorColor=\"#ccc\"\n              indicatorDots={true}\n            >\n              <SwiperItem className=\"swiper_item\">\n                <Image\n                  className=\"img\"\n                  mode=\"widthFix\"\n                  src=\"https://img.mybei.cn/weapp-1.png\"\n                ></Image>\n              </SwiperItem>\n            </Swiper>\n          )}\n        </View>\n      </View>\n      <View className=\"icon_menu\">\n        <Button\n          className=\"item\"\n          onClick={() => Taro.navigateTo({ url: \"../index/index\" })}\n        >\n          <Image\n            className=\"icon\"\n            mode=\"widthFix\"\n            src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-home-icon-film.png\"\n          ></Image>\n          <Text className=\"label\">今天吃啥</Text>\n        </Button>\n        {config.showEle ? (\n          <Button\n            className=\"item\"\n            onClick={() => toCoupon(ele.target_appid, ele.target_path)}\n          >\n            <Image\n              className=\"icon\"\n              mode=\"widthFix\"\n              src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-home-icon-ele.png\"\n            ></Image>\n            <Text className=\"label\">饿了么</Text>\n          </Button>\n        ) : (\n          <Button\n            className=\"item\"\n            onClick={() => toCoupon(meituan.target_appid, meituan.target_path)}\n          >\n            <Image\n              className=\"icon\"\n              mode=\"widthFix\"\n              src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-home-icon-meituan.png\"\n            ></Image>\n            <Text className=\"label\">美团外卖</Text>\n          </Button>\n        )}\n\n        <Button\n          className=\"item\"\n          onClick={() => toCoupon(meituan.target_appid, meituan.target_path)}\n        >\n          <Image\n            className=\"icon\"\n            mode=\"widthFix\"\n            src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-home-icon-meituan.png\"\n          ></Image>\n          <Text className=\"label\">美团外卖</Text>\n        </Button>\n\n        <Button className=\"item\" openType=\"share\">\n          <Image\n            className=\"icon\"\n            mode=\"widthFix\"\n            src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-home-icon-share.png\"\n          ></Image>\n          <Text className=\"label\">分享好友</Text>\n        </Button>\n      </View>\n      <View className=\"list shadow\">\n        {config.showEle ? (\n          <View\n            className=\"item animated fadeIn\"\n            onClick={() => toCoupon(ele.target_appid, ele.target_path)}\n          >\n            <View className=\"left\">\n              <Image\n                className=\"label ele\"\n                mode=\"widthFix\"\n                src=\"https://mpstatic.qingting123.com/img/take-out/label-ele.png\"\n              ></Image>\n              <Image\n                className=\"mark ele\"\n                mode=\"widthFix\"\n                src=\"https://mpstatic.qingting123.com/img/take-out/mark-ele.png\"\n              ></Image>\n              <View className=\"content\">\n                <View className=\"title\">饿了么天天抢红包</View>\n                <View className=\"info\">\n                  <Text className=\"price\"></Text>\n                  <Text className=\"unit\">66元</Text>\n                  <Text className=\"tip\">今日仅剩个{ele.remain}个</Text>\n                </View>\n              </View>\n            </View>\n            <View className=\"right\">\n              <View className=\"btn red\">免费领取</View>\n            </View>\n          </View>\n        ) : (\n          <View></View>\n        )}\n\n        <View\n          className=\"item animated fadeIn\"\n          onClick={() => toCoupon(meituan.target_appid, meituan.target_path)}\n        >\n          <View className=\"left\">\n            <Image\n              className=\"label mt\"\n              mode=\"widthFix\"\n              src=\"https://mpstatic.qingting123.com/img/take-out/label-mt.png\"\n            ></Image>\n            <Image\n              className=\"mark mt\"\n              mode=\"widthFix\"\n              src=\"https://mpstatic.qingting123.com/img/take-out/mark-mt.png\"\n            ></Image>\n            <View className=\"content\">\n              <View className=\"title\">美团外卖红包</View>\n              <View className=\"info\">\n                <Text className=\"price\">22</Text>\n                <Text className=\"unit\">元</Text>\n                <Text className=\"tip\">今日仅剩{meituan.remain}个</Text>\n              </View>\n            </View>\n          </View>\n          <View className=\"right\">\n            <View className=\"btn red\">免费领取</View>\n          </View>\n        </View>\n      </View>\n      {config.showEle ?<View></View>:(\n      <View className=\"card films\">\n        <View className=\"header\">\n          <View className=\"title\">热映电影推荐</View>\n          <View className=\"extra\">\n            <Text className=\"value\">全部33部</Text>\n            <Text className=\"icon-font iconfont-arrow\"></Text>\n          </View>\n        </View>\n\n        <ScrollView className=\"body\" enableFlex={true} scrollX={true}>\n          {movies.map((item, i) => (\n            <View className=\"item\">\n              <View className=\"content\">\n                <Image className=\"pic\" mode=\"aspectFit\" src={item.pic}>\n                  <Text className=\"grade\">{item.grade}</Text>\n                </Image>\n                <View className=\"name\">{item.name}</View>\n              </View>\n            </View>\n          ))}\n        </ScrollView>\n      </View>)}\n      <View className=\"card multi\">\n        <View className=\"header\">\n          <View className=\"title\">果蔬·商超·酒店</View>\n        </View>\n        <View className=\"body\">\n          {config.showEle ? (\n            <View\n              className=\"item\"\n              onClick={() =>\n                toCoupon(ele_shangchao.target_appid, ele_shangchao.target_path)\n              }\n            >\n              <Image\n                className=\"img\"\n                src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-home-card-ele-gs.png\"\n              ></Image>\n              <View className=\"btn\">领取</View>\n            </View>\n          ) : (\n            <View></View>\n          )}\n          <View\n            className=\"item\"\n            onClick={() =>\n              toCoupon(\n                meituan_shangchao.target_appid,\n                meituan_shangchao.target_path\n              )\n            }\n          >\n            <Image\n              className=\"img\"\n              src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-home-card-meituan-market.png\"\n            ></Image>\n            <View className=\"btn\">领取</View>\n          </View>\n          <View\n            className=\"item\"\n            onClick={() =>\n              toCoupon(meituan_hotel.target_appid, meituan_hotel.target_path)\n            }\n          >\n            <Image\n              className=\"img\"\n              src=\"https://qt-user-img.oss-cn-hangzhou.aliyuncs.com/weapp/takeout-home-card-meituan-hotel.png\"\n            ></Image>\n            <View className=\"btn\">领取</View>\n          </View>\n        </View>\n      </View>\n    </View>\n  );\n}\nexport default Index;\n","// extracted by mini-css-extract-plugin","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"../../../node_modules/@tarojs/mini-runner/node_modules/babel-loader/lib/index.js!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"首页\",\"enableShareAppMessage\":true,\"navigationBarBackgroundColor\":\"#EA3855\"};\n\ncomponent.enableShareAppMessage = true\nvar inst = Page(createPageConfig(component, 'pages/ele/index', {}, config || {}))\n\n","// const ApiRootUrl = 'http://127.0.0.1:8360/api/';\nconst ApiRootUrl = 'https://p.mybei.cn/api/';\nconst WXAppID = 'wx5dee831b44329220'\nmodule.exports = {\n    // 登录\n    WXAppID: WXAppID,\n    Indexpath: \"美团，饿了么外卖，有券有返利，单单帮你省。\",\n    IndexUrl :ApiRootUrl + \"/mp/index\"\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AASA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAFA;AAFA;AACA;AAMA;AACA;AACA;AACA;AAFA;AADA;AACA;AAKA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;AADA;AACA;AAiBA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AAHA;AAOA;AAAA;AAEA;AACA;AACA;AAHA;AAMA;AAAA;AAEA;AACA;AACA;AAHA;AASA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAAA;AAEA;AACA;AACA;AAHA;AAUA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAFA;AAKA;AACA;AACA;AAHA;AAKA;AAAA;AAIA;AACA;AAAA;AAAA;AAFA;AAKA;AACA;AACA;AAHA;AAKA;AAAA;AAIA;AACA;AAAA;AAAA;AAFA;AAKA;AACA;AACA;AAHA;AAKA;AAAA;AAKA;AACA;AAAA;AAAA;AAFA;AAKA;AACA;AACA;AAHA;AAKA;AAAA;AAGA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAKA;AAAA;AAGA;AAAA;AAGA;AACA;AAAA;AAAA;AAFA;AAIA;AAAA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAKA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AACA;AAAA;AAQA;AACA;AAAA;AAAA;AAFA;AAIA;AAAA;AAEA;AACA;AACA;AAHA;AAMA;AACA;AACA;AAHA;AAKA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AACA;AAAA;AAKA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAAA;AAtMA;AA4MA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AAGA;AACA;AAAA;AAAA;AAFA;AAOA;AACA;AAFA;AAIA;AAAA;AAMA;AACA;AAAA;AAAA;AAFA;AAUA;AACA;AAFA;AAIA;AAAA;AAGA;AACA;AAAA;AAAA;AAFA;AAOA;AACA;AAFA;AAIA;AAAA;AAMA;AACA;AAAA;;;;;;;;;;;AC3TA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;;;;A","sourceRoot":""}